# SRT-py Progress (UROP Summer 2022, Viveca Pannell)

## Daily Work

### 5/23/2022
- Set up Anaconda and installed both mamba and GNU Radio (did not just miniforge or Miniconda).
- Connected to Nooelec NESDR and received signals (using CubicSDR).
- Created flow graph in GNU Radio based on the one in the presentation; no RTL-SDR source yet (cannot find that block?).

### 5/25/2022
- Downloaded osmosdr, digital\_rf, and other modules to allow connection between GNU Radio and RTL-SDR.
- Explored WVURAIL DSPIRA modules, watching Introduction to Signals lecture.
- (With help) got GlobalProtect MIT VPN and NoMachine installed and functioning.

### 6/20/2022
- Just because I haven't updated this log in a while does not mean I've been doing nothing.
- Have learned a lot about digital signal processing (DSP), Fourier transforms (FT), sampling, and complex numbers.
- Today studied complex sampling.
- Today rewrote basic binning Python script and then wrote shell debugging version.
- See GitHub commits/log for more info on recent changes and developments.
- See notes on personal tablet device for more notes and info.

### 7/13/2022
- Just a note here: when testing embedded python blocks, emb\_py.py is unaltered code generated by GRC while emb\_py2.py is the same thing but with direct manipulation of python (via vim).
- I got fed up with trying to debug this system and instead installed a brand new miniforge version of GNU Radio on a computer at Hayden Library (Windows, still used RadioConda for GR CondaInstall and followed guidelines on wiki)
	- Just installed mamba and gnuradio (did not update stuff) with miniforge from GR guide...
	- Normal "test" flowgraph (signal source &rarr throttle &rarr QT GUI sink, all settings default) works...
	- Embedded Python blocks work too when integrated in flowgraph! (inserted block into flowgraph between throttle and GUI blocks and it works)...
	- Can even edit python code with it still working (directly edited python code to make ouput 2x larger and GUI reflected that)...
	- Installed DigitalRF with conda and then used a DRF Sink block in place of GUI block-- still works (created data folder is *not* empty, see drf\_test\_1 folder on Desktop)...
	- DRF Source also works! Replaced signal source with DRF and replaced DRF sink with QT GUI and showed exactly as expected-- sine wave w/ amplitude 4 (saved sine w/ amplitude 2, python block multiplies it to 4). DRF data saved as 2 floats (one representing real, one representing imaginary)...
- Okay, at this point, I am considering just uninstalling everything and then redoing conda installation on here. Good thing all files are backed up in GitHub. People are right; Anaconda *is* bloated, and I am tired of having to re-sort through everything again. And this time I won't install a bunch of packages or update a bunch of things that aren't necessary. I'll do it through a conda environment first, though.  Time to reset...
#### 7/13: Reinstalling conda
- Having problem installing miniconda-- "dyld: Symbol not found: \_\_ZNSt19bad\_optional\_accessD1Ev"-- hope this doesn't mean my computer is 'too old' (though will try older versions of miniconda).
	- Installed Miniforge3 4.11.0-0 successfully. (Latest version is 4.12.0-2.)
	- Installed Mamba.
	- Installed GNU Radio (with conda because I was too afraid to risk somehow messing something up with mamba), though it *did* take a long time.
	- Testing:
		- GRC works.
		- Uh oh, embedded Python block is not working (same as before...). Still yields the same segmentation fault... (interestingly, though, it only shows me that it is a segfault when I directly run the flowgraph python code in the terminal-- otherwise, there is just a "return code -11".
	- At this point, I'm quite fed up. Will continue this tomorrow, but may just rely on using a different computer if necessary. Will write code as if "by hand" (no checking until correct system available) now.

### 7/14/2022
- Okay, let's keep hacking at it.
	- Played for a long time with other installers (homebrew, macports, fink), but no solution is really feasible enough to beat conda, so I guess I'll continue with that (oh gosh, that took a good hour of trying things...)
	- Deciding to make things messier by using `conda upgrade --all` to make sure dependencies are installed (just upgraded sqlite) and then install digital\_rf and rtl-sdr.
	- Still doesn't work, but saw a tip on GR Wiki to recompile gnuradio... nope, uninstalling and reinstalling gnuradio (reinstall via mamba b/c conda too slow) did not help.
	- Stuck. I give up for now. I'll just write code here then test in on the library computer for now.
- Current goal: make PFB phase flowgraph. (Next up: make folding flowgraph, then conversion to FITS files.)

### 7/20/2022
- Setting up Windows GNURadio:
	- Just install conda
	- Install digital\_rf, gnuradio-osmosdr, and pip
	- Install psrdynspec and mitarspysigprocpython via pip
- Had to change file paths for pip!
- Figured nifty way to plot pulsars... (vector sink w/ const adds).

### 7/21/2022
- Goals for today:
	- Test if psrdynspec will ever give NaNs (the way we're using it)
	- Test GUI graphing
	- Maybe apply to IS&T for a new computer
